{
  "id": "/myapp-group",
  "groups": [
    {
      "id": "/myapp-group/scale-unit-1",
      "apps": [
        {
          "id": "myapp-db1",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10001 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        },
        {
          "id": "myapp-db2",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10002 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        }
      ]
    },{
      "id": "/myapp-group/scale-unit-2",
      "dependencies": ["/myapp-group/scale-unit-1"],
      "apps": [
        {
          "id": "myapp-db1",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10003 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        },
        {
          "id": "myapp-db2",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10004 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        }
      ]
    },{
      "id": "/myapp-group/scale-unit-3",
      "dependencies": ["/myapp-group/scale-unit-2"],
      "apps": [
        {
          "id": "myapp-db1",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10005 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        },
        {
          "id": "myapp-db2",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10006 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        }
      ]
    },{
      "id": "/myapp-group/scale-unit-4",
      "dependencies": ["/myapp-group/scale-unit-3"],
      "apps": [
        {
          "id": "myapp-db1",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10007 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        },
        {
          "id": "myapp-db2",
          "cmd": null,
          "cpus": 0.5,
          "mem": 256,
          "disk": 0,
          "instances": 1,
          "container": {
            "docker": {
              "image": "localhost:31800/myapp:#app_tag",
              "network": "BRIDGE",
              "portMappings": [
                { "hostPort": 0, "containerPort": 5000, "servicePort": 10008 }
              ],
              "forcePullImage": true
            },
            "type": "DOCKER"
          },
          "healthChecks": [
            {
              "protocol": "HTTP",
              "path": "/health",
              "portIndex": 0,
              "gracePeriodSeconds": 300,
              "intervalSeconds": 60,
              "timeoutSeconds": 20,
              "maxConsecutiveFailures": 3
            }
          ],
          "labels":{
              "HAPROXY_GROUP":"external",
              "HAPROXY_0_VHOST":"acs-griffin-agents.westus.cloudapp.azure.com",
              "HAPROXY_0_MODE":"http"
          }
        }
      ]
    }
  ]
}
